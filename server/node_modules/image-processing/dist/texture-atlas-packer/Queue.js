"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var PromiseQueue_1 = require("./PromiseQueue");
var Queue = (function () {
    function Queue(concurrency) {
        this.queue = new PromiseQueue_1.default(concurrency);
        this.remaining = 0;
    }
    Queue.prototype.add = function (generator) {
        var _this = this;
        this.remaining++;
        return this.queue.add(generator)
            .then(function (result) {
            _this.remaining--;
            return result;
        });
    };
    return Queue;
}());
exports.default = Queue;
//# sourceMappingURL=Queue.js.map